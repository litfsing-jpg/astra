# Шпаргалка: как добавлять статьи и фото

## Работа через Obsidian

Vault = папка проекта `E:\anti\seo-blog`.

### Как открыть

1. Откройте Obsidian
2. «Open folder as vault» → выберите `E:\anti\seo-blog`
3. Obsidian создаст папку `.obsidian` с настройками (она в .gitignore, не попадёт в репозиторий)

### Где писать статьи

В Obsidian перейдите в папку: `src/content/blog/`

Здесь лежат все статьи. Создавайте новые файлы прямо тут.

### Что видно в Obsidian

- Папка `src/content/blog/` — ваши статьи
- Папка `public/images/` — фото (covers и articles)
- Папка `docs/` — документация (эта шпаргалка, ошибки)
- Остальные папки (`src/pages/`, `src/components/`) — код сайта, трогать не нужно

### Рабочий процесс

1. Открыли Obsidian → перешли в `src/content/blog/`
2. Создали файл `.mdx` → написали статью
3. Фото положили в `public/images/covers/` или `public/images/articles/`
4. Запушили через терминал, VS Code или GitHub Desktop (см. раздел «Опубликовать»)

### Нюанс с CTA-кнопками

В Obsidian строки `import CtaButton...` и `<CtaButton ... />` будут видны как текст — это нормально. На сайте они превратятся в красивые кнопки.

---

## Добавить новую статью

### 1. Создайте файл

Путь: `src/content/blog/` — создайте файл с расширением `.mdx`

Имя файла = URL статьи. Используйте транслит через дефисы:
- `moj-novyj-post.mdx` → сайт.com/astra/blog/moj-novyj-post

### 2. Заполните шапку (frontmatter)

В самом начале файла обязательно:

```
---
title: "Заголовок статьи (до 60 символов для SEO)"
description: "Описание для поисковиков (до 160 символов)"
pubDate: 2026-02-10
category: "Питание"
image: "/images/covers/имя-файла.webp"
---
```

**Поля:**
| Поле | Обязательное | Что писать |
|------|:---:|---|
| title | Да | Заголовок. До 60 символов — идеально для Google |
| description | Да | Описание для поисковиков. 120-160 символов |
| pubDate | Да | Дата публикации: ГГГГ-ММ-ДД |
| category | Нет | Категория: «Питание», «Здоровье» и т.д. |
| image | Нет | Путь к обложке (см. раздел про фото) |

### 3. Напишите контент

После `---` пишите текст в формате Markdown:

```markdown
## Заголовок второго уровня

Обычный текст параграфа.

### Подзаголовок

- Пункт списка
- Ещё пункт

**Жирный текст** и *курсив*.

1. Нумерованный список
2. Второй пункт

> Цитата или важная мысль
```

### 4. Добавьте CTA-кнопку (если нужна)

Сразу после frontmatter (после `---`) добавьте импорт:

```
import CtaButton from '../../components/CtaButton.astro';
```

Затем в тексте статьи вставьте кнопку:

```
<CtaButton href="https://lk.getfit.su/link/67srjzjg1" text="ЗАПИСАТЬСЯ НА МАРАФОН" />
```

**Важно:** если используете CTA-кнопку, файл должен быть `.mdx`, не `.md`

### 5. Пример готовой статьи

```mdx
---
title: "Как улучшить сон: 5 проверенных способов"
description: "Практические советы для улучшения качества сна. Режим, питание, обстановка — разбираем что реально работает."
pubDate: 2026-03-01
category: "Здоровье"
image: "/images/covers/son.webp"
---
import CtaButton from '../../components/CtaButton.astro';

## Почему мы плохо спим

Текст статьи...

## Способ 1: Режим

Текст...

<CtaButton href="https://lk.getfit.su/link/67srjzjg1" text="УЗНАТЬ БОЛЬШЕ" />

*Реклама. ООО "ЭДПРО", ИНН 7704394080, erid: 2VtzqXXXXXXXXXXX*
```

---

## Добавить фото

### Обложки статей (covers)

1. Положите файл в: `public/images/covers/`
2. Рекомендуемый формат: `.webp` (меньше весит)
3. Рекомендуемый размер: 1200×630 px (идеально для соцсетей)
4. В frontmatter статьи укажите путь:
   ```
   image: "/images/covers/имя-файла.webp"
   ```

### Фото внутри статьи

1. Положите файл в: `public/images/articles/`
2. В тексте статьи вставьте:
   ```markdown
   ![Описание фото](/images/articles/имя-файла.webp)
   ```

### Где брать фото

- **Unsplash** (unsplash.com) — бесплатные фото, можно использовать с внешней ссылкой:
  ```
  image: "https://images.unsplash.com/photo-XXXXX?w=1200"
  ```
- **Свои фото** — конвертируйте в .webp для скорости загрузки
- Онлайн-конвертер: squoosh.app

### Структура папок для фото

```
public/
└── images/
    ├── covers/          ← обложки статей
    │   ├── pravilnoe-pitanie.webp
    │   ├── privychki-zdorovya.webp
    │   └── vodnyj-balans.webp
    └── articles/        ← фото внутри статей
        ├── pochemu-ne-khudeyu.webp
        └── fdgfg.webp
```

---

## Опубликовать изменения

После добавления статьи или фото нужно запушить на GitHub:

```bash
cd E:\anti\seo-blog
git add .
git commit -m "Описание: что добавили"
git push
```

Или через **VS Code**: Source Control → Stage All → Commit → Push

Или через **GitHub Desktop**: Commit → Push

Деплой автоматический — через 1-2 минуты сайт обновится.

---

## Чек-лист перед публикацией

- [ ] Имя файла — транслит через дефисы, `.mdx`
- [ ] title — до 60 символов
- [ ] description — 120-160 символов
- [ ] pubDate — дата в формате ГГГГ-ММ-ДД
- [ ] image — обложка загружена в `public/images/covers/`
- [ ] Текст — есть заголовки H2/H3, списки, абзацы
- [ ] CTA — есть импорт CtaButton (если используется)
- [ ] Пуш — `git add . && git commit -m "..." && git push`

---

## Быстрые команды

| Действие | Команда |
|----------|---------|
| Локальный просмотр | `npm run dev` → открыть http://localhost:4321/astra/ |
| Проверить сборку | `npm run build` |
| Запушить | `git add . && git commit -m "сообщение" && git push` |
