# Шпаргалка: как добавлять статьи и фото

## Работа через Obsidian

Vault = папка проекта `E:\anti\seo-blog`.

### Как открыть

1. Откройте Obsidian
2. «Open folder as vault» → выберите `E:\anti\seo-blog`
3. Obsidian создаст папку `.obsidian` с настройками (она в .gitignore, не попадёт в репозиторий)

### Где писать статьи

В Obsidian перейдите в папку: `src/content/blog/`

Здесь лежат все статьи. Создавайте новые `.md` файлы прямо тут.

### Что видно в Obsidian

- Папка `src/content/blog/` — ваши статьи (`.md` файлы)
- Папка `src/content/blog/_SHABLON-statyi.md` — шаблон, копируйте его для новых статей
- Папка `public/images/` — фото (covers и articles)
- Папка `docs/` — документация (эта шпаргалка, ошибки)
- Остальные папки — код сайта, трогать не нужно

### Установить плагин Obsidian Git

1. Obsidian → Settings (⚙️) → Community plugins → Turn on community plugins
2. Browse → поиск **«Obsidian Git»** → Install → Enable
3. Настройки плагина (Settings → Obsidian Git):
   - **Auto pull interval**: `10` (минут) — автоматически подтягивать изменения
   - **Auto commit-and-push interval**: `0` (выключено — пушим вручную, когда готовы)
   - **Commit message**: `Blog: {{date}}` (или свой шаблон)

### Как пушить из Obsidian

**Способ 1 — Команда:**
- Ctrl+P → набрать «Obsidian Git: Commit all changes and push» → Enter

**Способ 2 — Боковая панель:**
- Откройте иконку Git в левой панели (ветка с точками)
- Нажмите **+** (stage all) → введите сообщение коммита → нажмите **✓** (commit) → нажмите **↑** (push)

**Способ 3 — Горячая клавиша:**
- Settings → Hotkeys → найти «Obsidian Git: Commit all changes and push»
- Назначить, например, `Ctrl+Shift+P`

---

## Как добавить новую статью

### 1. Скопируйте шаблон

В Obsidian откройте `src/content/blog/_SHABLON-statyi.md` → ПКМ → **Make a copy**

Переименуйте копию:
- Уберите `_` из начала
- Дайте своё имя (латиница, дефисы): `moya-novaya-statya.md`
- Имя файла = URL на сайте: `сайт/astra/blog/moya-novaya-statya`

### 2. Заполните шапку (frontmatter)

В самом начале файла — между `---`:

```
---
title: "Заголовок статьи (до 60 символов для SEO)"
description: "Описание для поисковиков (до 160 символов)"
pubDate: 2026-02-10
category: "Питание"
image: "/images/covers/имя-файла.webp"
---
```

| Поле | Обязательное | Что писать |
|------|:---:|---|
| title | Да | Заголовок. До 60 символов — идеально для Google |
| description | Да | Описание для поисковиков. 120-160 символов |
| pubDate | Да | Дата публикации: ГГГГ-ММ-ДД |
| category | Нет | Категория: «Питание», «Здоровье» и т.д. |
| image | Нет | Путь к обложке (см. раздел про фото) |
| faq | Нет | Массив вопросов-ответов для FAQ (см. ниже) |

### FAQ (необязательно, но полезно для SEO)

Если в статье есть раздел «Частые вопросы», добавьте их в frontmatter. На сайте появится:
- Красивый раскрывающийся блок в конце статьи
- Разметка FAQPage для Google (может показать ответы прямо в поиске!)

```yaml
faq:
  - question: "Сколько воды нужно пить в день?"
    answer: "30-35 мл на килограмм веса. Для женщины 65 кг — около 2 литров."
  - question: "Правда ли, что кофе обезвоживает?"
    answer: "Нет. Умеренное потребление кофе (3-4 чашки) не вызывает обезвоживания."
```

Рекомендации:
- 3-7 вопросов на статью
- Вопросы — то, что люди реально ищут в Google
- Ответы — 1-3 предложения, конкретика без воды
- Если FAQ не нужен — просто не добавляйте этот блок

### 3. Напишите текст

Обычный Markdown — Obsidian всё покажет с форматированием:

```markdown
## Заголовок раздела

Обычный текст параграфа.

### Подзаголовок

- Пункт списка
- Ещё пункт

**Жирный текст** и *курсив*.

1. Нумерованный список
2. Второй пункт

> Цитата или важная мысль
```

### 4. CTA-кнопка — автоматически!

**Ничего вставлять не нужно.** Кнопка «Записаться на марафон» автоматически появляется в конце каждой статьи на сайте.

### 5. Опубликуйте

Ctrl+P → «Obsidian Git: Commit all changes and push» → Enter

Через 1-2 минуты статья появится на сайте.

### 6. Пример готовой статьи

```markdown
---
title: "Как улучшить сон: 5 проверенных способов"
description: "Практические советы для улучшения качества сна. Режим, питание, обстановка — разбираем что реально работает."
pubDate: 2026-03-01
category: "Здоровье"
image: "/images/covers/son.webp"
---

## Почему мы плохо спим

Текст статьи...

## Способ 1: Режим

Текст...
```

---

## Добавить фото

### Обложки статей (covers)

1. Положите файл в: `public/images/covers/`
2. Рекомендуемый формат: `.webp` (меньше весит)
3. Рекомендуемый размер: 1200×630 px (идеально для соцсетей)
4. В frontmatter статьи укажите путь:
   ```
   image: "/images/covers/имя-файла.webp"
   ```

### Фото внутри статьи

1. Положите файл в: `public/images/articles/`
2. В тексте статьи вставьте (**ВАЖНО: путь с `/astra/`!**):
   ```markdown
   ![Описание фото](/astra/images/articles/имя-файла.webp)
   ```
3. Обложки в frontmatter — БЕЗ `/astra/` (шаблон страницы добавит сам)
4. Фото внутри текста — С `/astra/` (Astro не добавляет автоматически)

### Где брать фото

- **Unsplash** (unsplash.com) — бесплатные фото
- **Свои фото** — конвертируйте в .webp (онлайн: squoosh.app)

### Структура папок для фото

```
public/images/
├── covers/          ← обложки статей
│   ├── pravilnoe-pitanie.webp
│   ├── privychki-zdorovya.webp
│   ├── vodnyj-balans.webp
│   └── shablon-statyi.webp
└── articles/        ← фото внутри статей
    └── pochemu-ne-khudeyu.webp
```

---

## Чек-лист перед публикацией

- [ ] Имя файла — латиница, дефисы, `.md`
- [ ] title — до 60 символов
- [ ] description — 120-160 символов
- [ ] pubDate — дата в формате ГГГГ-ММ-ДД
- [ ] image — обложка в `public/images/covers/`
- [ ] Текст — есть заголовки H2/H3, списки, абзацы
- [ ] Пуш — Ctrl+P → «Commit all changes and push»
