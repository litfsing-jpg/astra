# Как мы собрали сайт-блог с нуля: полный гайд для чайников

Этот документ — полная история создания сайта **litfsing-jpg.github.io/astra/**. Написан максимально простым языком, без технических терминов (где возможно). Если ты бариста и варишь кофе, а не код — этот гайд для тебя.

---

## Что это за сайт и зачем он нужен

### Суть проекта

Это блог **Карповой Ольги** — эксперта по здоровому образу жизни и питанию. Сайт нужен для:

- **Привлечения клиентов.** Люди ищут в Яндексе и Google вопросы типа "почему не худею" или "сколько пить воды". Находят нашу статью — читают — видят кнопку "Записаться на марафон" — переходят по ней. Это называется **контент-маркетинг**: ты даёшь пользу бесплатно, а взамен получаешь доверие и клиентов.

- **Заработок на партнёрской программе.** В каждой статье есть кнопка, ведущая на платный марафон. За каждую регистрацию по нашей ссылке автор получает процент. Ссылка: `https://lk.getfit.su/link/67srjzjg1`

- **Экспертный имидж.** Блог с полезными статьями показывает, что автор разбирается в теме. Это повышает доверие.

### Почему именно блог, а не Instagram/Telegram

Блог в интернете работает 24/7. Посты в соцсетях живут пару дней, а статья в блоге может приводить людей из поисковиков **годами**. Один раз написал — и она работает на тебя.

### Ниша: YMYL

Наша тема — здоровье и питание. В мире поисковиков это называется **YMYL** (Your Money Your Life — "ваши деньги, ваша жизнь"). Google и Яндекс **особенно строго** проверяют такие сайты, потому что плохой совет по здоровью может навредить человеку. Поэтому мы уделяли много внимания тому, чтобы сайт выглядел профессионально и надёжно.

---

## На чём построен сайт (простыми словами)

Представь, что сайт — это дом. Вот из чего он состоит:

| Что | Зачем | Аналогия |
|-----|-------|----------|
| **Astro** | Движок сайта. Берёт наши тексты и превращает в красивые веб-страницы | Как кофемашина — загружаешь зёрна (тексты), получаешь кофе (сайт) |
| **Tailwind CSS** | Оформление и дизайн: цвета, отступы, шрифты | Как сиропы и молоко — делают кофе красивым |
| **MDX** | Позволяет вставлять кнопки и виджеты прямо в текст статьи | Как трафарет для рисунков на пенке |
| **GitHub** | Хранилище всех файлов сайта + бесплатный хостинг | Как склад, где хранятся все рецепты и ингредиенты |
| **GitHub Pages** | Бесплатный "сервер", который показывает сайт людям в интернете | Как витрина кофейни — люди видят то, что внутри |
| **Obsidian** | Программа, в которой автор пишет статьи (как Word, но удобнее) | Как блокнот бариста для записи рецептов |

### Как это работает вместе

```
Автор пишет статью в Obsidian (как в Word)
        ↓
Нажимает "Push" (отправить)
        ↓
Файл улетает на GitHub (хранилище)
        ↓
GitHub автоматически запускает "сборку"
(Astro превращает текст в веб-страницу)
        ↓
Готовый сайт появляется в интернете
        ↓
Люди находят статью в Google/Яндекс
        ↓
Читают → видят кнопку → переходят на марафон
```

Весь процесс после нажатия "Push" — **автоматический**. Занимает 1-2 минуты.

---

## Что есть на сайте сейчас

### Страницы

| Страница | Адрес | Что там |
|----------|-------|---------|
| Главная | `/astra/` | Список всех статей с картинками |
| Блог | `/astra/blog` | Тот же список статей |
| Об авторе | `/astra/about` | Биография, опыт, сертификаты Ольги |
| Контакты | `/astra/contacts` | Способы связи |
| Поиск | `/astra/search` | Поле для поиска по всем статьям |

### Статьи (5 штук)

1. **"Почему не худею уже 2 года"** — про скрытые причины лишнего веса (гормоны, анализы, ошибки)
2. **"Как начать правильно питаться"** — пошаговый план для новичков
3. **"5 простых привычек для здоровья"** — привычки, которые реально работают
4. **"Водный баланс"** — сколько пить воды, мифы про 8 стаканов
5. **"Утренние ритуалы для здоровья"** — как начинать день

Все статьи написаны экспертным тоном, со ссылками на исследования, с конкретными цифрами и рекомендациями. Это важно для YMYL-ниши.

### Фишки для поисковиков (SEO)

Каждая страница сайта содержит невидимые для людей, но важные для Google/Яндекс штуки:

- **Schema.org разметка** — специальный код, который говорит поисковику: "это блог", "автор — Карпова Ольга", "это медицинская статья". Помогает показывать сайт выше в поиске.
- **FAQ-разметка** — на статьях про воду и похудение есть блок "Частые вопросы". Google может показать эти вопросы прямо в результатах поиска (красивые раскрывающиеся ответы). Это даёт больше кликов.
- **Open Graph теги** — когда кто-то кидает ссылку на статью в Telegram или ВК, показывается красивая карточка с картинкой и описанием (а не просто голая ссылка).
- **Sitemap** — файл-карта сайта, который говорит поисковикам: "вот все мои страницы, приходите индексировать".
- **Canonical URL** — защита от дублирования. Говорит поисковику: "вот единственный правильный адрес этой страницы".
- **RSS-лента** — позволяет подписаться на обновления блога через специальные приложения.

### Кнопки в статьях (CTA)

CTA = Call To Action ("призыв к действию"). Это зелёная кнопка "ЗАПИСАТЬСЯ НА МАРАФОН" в конце каждой статьи. Она появляется автоматически — автору не нужно её вставлять.

Также можно вставлять кнопки в любое место текста — для этого есть шаблон с готовыми цветными кнопками (зелёная, синяя, оранжевая).

---

## Как автор добавляет новую статью

Максимально просто — никакого кода:

1. Открыть **Obsidian** (программа на компьютере)
2. Зайти в папку `src/content/blog/`
3. Скопировать файл-шаблон `_SHABLON-statyi.md`
4. Переименовать копию (латиницей с дефисами, например: `moj-novyj-post.md`)
5. Заполнить шапку: заголовок, описание, дату, категорию
6. Написать текст обычным Markdown (как в WhatsApp: `**жирный**`, `*курсив*`, `## заголовок`)
7. Нажать `Ctrl+P` → набрать "Commit all changes and push" → Enter
8. Через 1-2 минуты статья появится на сайте

### Про фото

- **Обложки статей** → кладутся в папку `public/images/covers/`
- **Фото внутри статей** → в папку `public/images/articles/`
- Формат — `.webp` (легче, быстрее грузится)
- Размер обложки — 1200×630 пикселей (идеально для соцсетей)

---

## Фазы разработки: что мы делали и зачем

### Фаза 1: Запуск (фундамент)

**Что делали:** Создали проект, настроили Git (систему контроля версий), подключили GitHub Pages для бесплатного хостинга, написали workflow-файл (инструкция для автоматической сборки).

**Зачем:** Без этого сайт не существовал бы в интернете. Это как аренда помещения и подключение электричества для кофейни.

**Результат:** Сайт доступен по адресу `litfsing-jpg.github.io/astra/`

### Фаза 2: SEO-оптимизация

**Что делали:** Добавили sitemap, robots.txt, JSON-LD разметку (Schema.org), Open Graph теги, canonical URL.

**Зачем:** Чтобы Google и Яндекс нашли сайт, правильно его поняли и показывали в результатах поиска. Без SEO сайт — как кофейня без вывески в подвале: никто не найдёт.

**Результат:** Поисковики могут корректно индексировать сайт.

### Фаза 3: Контент и MDX

**Что делали:** Подключили MDX (возможность вставлять кнопки в статьи), создали CTA-кнопку, перенесли первую большую статью, настроили работу с картинками.

**Зачем:** Просто текст — это скучно. Нужны кнопки для заработка. MDX позволяет вставлять интерактивные элементы в обычный текст.

**Результат:** В статьях есть кнопки "Записаться на марафон", картинки правильно отображаются.

### Фаза 4: Документация

**Что делали:** Написали ROADMAP (план развития), документацию по ошибкам, шпаргалки.

**Зачем:** Чтобы не забыть, что уже сделали, и чтобы можно было вернуться к проекту через месяц и понять, что происходит.

**Результат:** Папка `docs/` с инструкциями и историей ошибок.

### Фаза 5: Расширение контента

**Что делали:** Написали ещё 4 статьи (итого 5), создали страницы "Об авторе" и "Контакты", обновили навигацию, добавили хлебные крошки, настроили Obsidian для удобного написания.

**Зачем:** Одна статья — это не блог. Нужен минимум 5-10 статей, чтобы поисковики начали воспринимать сайт серьёзно. Страница "Об авторе" критически важна для YMYL-ниши — Google хочет знать, КТО пишет о здоровье.

**Результат:** Полноценный блог с 5 статьями и всеми основными страницами.

### Фаза 6: Аналитика

**Что делали:** Добавили код для Яндекс.Метрики и верификации в Google Search Console и Яндекс.Вебмастер (пока заглушки — нужно вставить реальные коды).

**Зачем:** Без аналитики ты не знаешь, кто приходит на сайт, откуда, что читает. Это как работать в кофейне без кассы — вроде варишь кофе, но не знаешь сколько чашек продал.

**Статус:** Код на сайте есть, но нужно зарегистрироваться в Яндекс.Метрике и Google Search Console и вставить реальные номера вместо заглушек.

### Фаза 7: Продвинутые фишки

**Что делали:**
- **RSS-лента** — подписка на обновления блога для читалок
- **FAQ-блоки** — раскрывающиеся вопросы-ответы в конце статей + специальная разметка для Google
- **Поиск Pagefind** — полнотекстовый поиск по всем статьям прямо на сайте
- **Ленивая загрузка картинок** — картинки грузятся только когда до них долистали (сайт быстрее открывается)

**Зачем:** FAQ-блоки могут дать расширенные сниппеты в Google (больше места в поиске = больше кликов). Поиск удобен для читателей. RSS — стандарт для блогов.

**Результат:** Всё работает, проверено.

---

## Ошибки, с которыми мы столкнулись

За время разработки мы наступили на 10+ граблей. Вот главные — и как мы их решили.

### Ошибка 1: Сайт показывает белую страницу "404 Not Found"

**Что случилось:** Мы настроили автоматическую сборку, всё прошло "успешно" (зелёная галочка), но при открытии сайта — пустая страница 404.

**Почему:** У GitHub Pages есть два способа деплоя. Мы сначала выбрали неправильный ("GitHub Actions artifact"). Он не работал стабильно.

**Как починили:** Переключились на деплой через отдельную ветку `gh-pages`. Теперь Astro собирает сайт → результат кладётся в ветку `gh-pages` → GitHub Pages показывает её содержимое.

**Урок:** Если сайт на GitHub Pages показывает 404 — первым делом проверь настройки: Settings → Pages → Source = "Deploy from a branch" → gh-pages → / (root).

### Ошибка 2: Все ссылки ведут в никуда

**Что случилось:** Навигация (Главная, Блог, Контакты) открывала 404.

**Почему:** Сайт живёт не в корне (`litfsing-jpg.github.io`), а в подпапке (`litfsing-jpg.github.io/astra/`). Все ссылки были написаны без `/astra/` — например, `/blog` вместо `/astra/blog`.

**Как починили:** Во всех ссылках стали использовать специальную переменную `BASE_URL`, которая автоматически подставляет `/astra/`.

**Урок:** Если сайт на GitHub Pages в подпапке — все ссылки нужно делать через `BASE_URL`, иначе ничего не будет работать.

### Ошибка 3: Мобильное меню работает только один раз

**Что случилось:** На телефоне меню-бургер открывалось, но после перехода на другую страницу переставало работать.

**Почему:** У нас включены "плавные переходы" между страницами (View Transitions). При таком переходе страница не перезагружается полностью, и скрипт для меню не запускался повторно.

**Как починили:** Обернули скрипт в специальный обработчик `astro:page-load`, который срабатывает при каждом переходе.

**Урок:** Если что-то работает при первом открытии, но ломается при переходе между страницами — дело в View Transitions. Нужно использовать `astro:page-load`.

### Ошибка 4: Сборка падает из-за несовместимых версий

**Что случилось:** GitHub Actions показывал красный крестик — сборка не проходила.

**Почему:** Мы случайно установили слишком новую версию плагина MDX (4.x вместо 2.x). Она не работала с нашей версией Astro (4.x). Такая же проблема была с плагином Sitemap (3.7 вместо 3.2).

**Как починили:** Откатили на правильные версии: MDX 2.3.1, Sitemap 3.2.1.

**Урок:** НЕ обновлять плагины бездумно. Перед пушем ВСЕГДА проверять: `npm run build` — если сборка проходит локально, пройдёт и на сервере.

### Ошибка 5: Картинки не показываются

**Что случилось:** Обложки статей — 404. Фото внутри статей — 404.

**Почему:** Та же проблема с `/astra/`. Пути к картинкам были без префикса.

**Как починили:** Для обложек — в коде шаблона автоматически добавляется `/astra/`. Для фото внутри текста — нужно руками писать `/astra/images/articles/фото.webp`.

**Урок:** Есть два правила:
- Обложка в шапке статьи → пишем `/images/covers/фото.webp` (БЕЗ /astra/)
- Фото в тексте → пишем `/astra/images/articles/фото.webp` (С /astra/)

### Ошибка 6: Два workflow-файла убивают сайт

**Что случилось:** Сайт снова 404, хотя ничего не меняли.

**Почему:** В папке `.github/workflows/` оказалось два файла: наш правильный `deploy.yml` и лишний `static.yml`. Они конфликтовали — один деплоил правильно, другой перезатирал результат мусором.

**Как починили:** Удалили `static.yml`. Оставили только `deploy.yml`.

**Урок:** В папке workflows должен быть ТОЛЬКО ОДИН файл — `deploy.yml`. Никаких других.

### Ошибка 7: Obsidian создаёт файлы-дубликаты

**Что случилось:** Сборка падает после пуша из Obsidian.

**Почему:** Когда в Obsidian копируешь файл, он создаёт `файл 1.md`. Если рядом есть `файл.mdx` — получается два файла с одинаковым "именем" (slug). Astro не может это обработать.

**Как починили:** Удалили дубликаты. Правило: сразу переименовывать скопированный файл.

**Урок:** В папке со статьями не должно быть файлов с одинаковыми именами (даже если расширения разные: `.md` и `.mdx`). И никаких файлов с пробелами и цифрами типа "файл 1.md".

### Ошибка 8: RSS показывает кракозябры в браузере

**Что случилось:** При открытии RSS-ленты в браузере вместо русского текста — нечитаемые символы.

**Почему:** GitHub Pages отдаёт XML-файлы без указания кодировки. Браузер пытается угадать кодировку и угадывает неправильно.

**Как починили:** Переписали генерацию RSS вручную с CDATA-секциями (специальными обёртками для текста) и явным указанием кодировки UTF-8. Для RSS-читалок (Feedly и т.д.) лента работает корректно.

**Урок:** RSS предназначен не для просмотра в браузере, а для подписки через специальные приложения. В браузере может выглядеть криво — это нормально для GitHub Pages.

---

## Что осталось сделать

### Нужно сделать (приоритет)

1. **Вставить коды аналитики** — зарегистрироваться в Яндекс.Метрике и Google Search Console, получить коды, вставить в файл `src/layouts/Layout.astro` вместо заглушек `XXXXXXXX` и `[ВСТАВИТЬ_КОД]`
2. **Загрузить sitemap в поисковики** — зайти в кабинеты Яндекс.Вебмастер и Google Search Console, указать адрес sitemap
3. **Написать ещё 5-10 статей** — для SEO нужен объём. 5 статей — это минимум, 15 — хорошо

### Можно сделать потом

4. **Кастомный домен** — вместо `litfsing-jpg.github.io/astra/` будет красивый адрес типа `karpova-olga.ru`
5. **A/B тестирование кнопок** — проверить, какой текст/цвет кнопки даёт больше кликов
6. **Больше FAQ** — добавить вопросы-ответы в остальные 3 статьи

---

## Структура проекта (что где лежит)

```
E:\anti\seo-blog\
│
├── src/                        ← Исходники сайта
│   ├── content/blog/           ← СТАТЬИ (тут пишет автор)
│   │   ├── _SHABLON-statyi.md  ← Шаблон для новых статей
│   │   ├── pochemu-ne-khudeyu.mdx
│   │   ├── kak-nachat-pravilno-pitatsya.mdx
│   │   ├── privychki-dlya-zdorovya.mdx
│   │   ├── vodnyj-balans.mdx
│   │   └── utrennie-ritualy-dlya-zdorovya.md
│   ├── pages/                  ← Страницы сайта
│   │   ├── index.astro         ← Главная
│   │   ├── search.astro        ← Поиск
│   │   ├── about.astro         ← Об авторе
│   │   ├── contacts.astro      ← Контакты
│   │   ├── rss.xml.ts          ← RSS-лента
│   │   └── blog/
│   │       ├── index.astro     ← Список статей
│   │       └── [...slug].astro ← Шаблон отдельной статьи
│   ├── components/             ← Кусочки дизайна
│   │   ├── Header.astro        ← Шапка с меню
│   │   ├── Footer.astro        ← Подвал сайта
│   │   ├── PostCard.astro      ← Карточка статьи в списке
│   │   └── CtaButton.astro     ← Кнопка "Записаться"
│   └── layouts/
│       └── Layout.astro        ← Общий каркас всех страниц
│
├── public/                     ← Статичные файлы
│   ├── images/
│   │   ├── covers/             ← Обложки статей
│   │   └── articles/           ← Фото внутри статей
│   ├── robots.txt
│   └── favicon.svg
│
├── docs/                       ← Документация
│   ├── HOW-TO-ADD-CONTENT.md   ← Шпаргалка по добавлению статей
│   ├── ERRORS_AND_SOLUTIONS.md ← История всех ошибок
│   └── FULL-PROJECT-GUIDE.md   ← Этот документ
│
├── .github/workflows/
│   └── deploy.yml              ← Инструкция для автосборки
│
├── package.json                ← Список зависимостей (как список ингредиентов)
├── astro.config.mjs            ← Настройки движка Astro
├── ROADMAP.md                  ← План развития проекта
└── .gitignore                  ← Список файлов, которые НЕ отправляются на GitHub
```

---

## Словарь терминов

| Термин | Что это простыми словами |
|--------|--------------------------|
| **Git** | Система, которая запоминает все изменения в файлах. Как Ctrl+Z, но на стероидах — можно откатиться на любой момент в прошлом |
| **GitHub** | Сайт-хранилище, куда мы загружаем наш код. Как Google Диск, но для программистов |
| **GitHub Pages** | Бесплатный хостинг от GitHub. Показывает наш сайт в интернете |
| **GitHub Actions** | Робот на GitHub, который автоматически собирает сайт после каждого изменения |
| **Репозиторий** | Папка проекта на GitHub. Наш: github.com/litfsing-jpg/astra |
| **Ветка (branch)** | Версия проекта. `main` — основная, `gh-pages` — собранный сайт для показа |
| **Push (пуш)** | Отправить изменения с компьютера на GitHub |
| **Build (сборка)** | Процесс превращения наших текстов и кода в готовый сайт |
| **Deploy (деплой)** | Процесс выкладывания собранного сайта в интернет |
| **Workflow** | Файл-инструкция для GitHub Actions: "когда пришёл пуш → собери → задеплой" |
| **npm** | Менеджер пакетов. Устанавливает нужные библиотеки (как App Store для кода) |
| **Astro** | Движок для создания быстрых сайтов из текстовых файлов |
| **Tailwind** | Набор готовых стилей для красивого оформления |
| **MDX** | Формат файлов, где можно смешивать текст и интерактивные компоненты |
| **Frontmatter** | Шапка статьи между `---`. Содержит заголовок, описание, дату |
| **Slug** | Имя файла статьи = адрес на сайте. `vodnyj-balans.mdx` → `/blog/vodnyj-balans/` |
| **SEO** | Оптимизация для поисковиков. Чтобы сайт показывался выше в Google/Яндекс |
| **Schema.org / JSON-LD** | Невидимый код для поисковиков: "это статья", "автор — Ольга", "тема — здоровье" |
| **Sitemap** | Файл-карта сайта для поисковиков: "вот все мои страницы" |
| **RSS** | Формат подписки на обновления блога через приложения-читалки |
| **CTA** | Call To Action — кнопка призыва к действию ("Записаться на марафон") |
| **Pagefind** | Движок поиска, который создаёт индекс статей при сборке |
| **Base path** | Префикс `/astra/` в адресах. Нужен, потому что сайт в подпапке, а не в корне |
| **YMYL** | Тематики "ваши деньги, ваша жизнь" — Google проверяет такие сайты строже |
| **Lazy loading** | Картинки загружаются, только когда до них долистали. Сайт открывается быстрее |
| **CDATA** | Специальная обёртка в XML, защищающая текст от неправильной интерпретации |
| **View Transitions** | Плавные переходы между страницами (без полной перезагрузки) |

---

## Важные ссылки

| Что | Адрес |
|-----|-------|
| Сайт | https://litfsing-jpg.github.io/astra/ |
| Репозиторий | https://github.com/litfsing-jpg/astra |
| RSS-лента | https://litfsing-jpg.github.io/astra/rss.xml |
| Sitemap | https://litfsing-jpg.github.io/astra/sitemap-index.xml |
| Партнёрская ссылка | https://lk.getfit.su/link/67srjzjg1 |

---

*Документ создан: 10.02.2026*
*Проект: Блог Карповой Ольги — здоровье, питание, привычки*
